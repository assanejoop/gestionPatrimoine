<div class="container mx-auto px-4 py-6">
    <!-- Barre de navigation supérieure -->
    
    <div class="bg-white rounded-lg   overflow-hidden">
      <!-- Header Section -->
      <div class="p-6 bg-white border-b border-gray-200">
        <div class="flex items-start justify-between">
          <div class="flex items-start space-x-4">
            <!-- Building Image -->
            <div class="w-[94px] h-[94px] rounded-[5.6px] opacity-100 rotate-0 overflow-hidden flex-shrink-0">
              <img src="assets/images/building1.png" alt="" srcset="">
            </div>
            
            <!-- Building Info -->
            <div class="flex-1 min-w-0">
              <h1 class="text-2xl font-semibold text-dark mb-2">
                {{ residence.name }}
              </h1>
              
              <div class="flex items-center space-x-4 mb-3">
                <!-- Location -->
                <div class="flex items-center text-gray-600">
                  <i class="fa-solid fa-location-dot mr-2"></i>
                  <span class="text-sm text-[#64748B]"> {{ residence.address }}</span>
                </div>
                
                <!-- Type -->
                <div class="flex items-center text-gray-600">
                  <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                  </svg>
                  <span class="text-sm">{{ residence.type }}</span>
                </div>
              </div>
              
              <!-- Status and Actions -->
              <div class="flex items-center space-x-3">
                <!-- Status Badge -->
                <div class="flex items-center">
                  <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">
                    <span class="w-2 h-2 bg-red-500 rounded-full mr-1.5"></span>
                    {{ residence.status }}
                  </span>
                </div>
                
                <!-- Change Status Button -->
                <button 
                  (click)="onChangeOccupationStatus()"
                  class="inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"
                >
                  <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                  </svg>
                  Changer le statut d'occupation
                </button>
              </div>
            </div>
          </div>
          
          <!-- Modify Building Button -->
          <button 
            (click)="onModifyBuilding()"
            class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"
          >
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
            </svg>
            Modifier le bâtiment
          </button>
        </div>
      </div>
      
      <!-- Tabs Navigation -->
      <div class="border-b border-gray-200">
        <nav class="flex space-x-8 px-6" aria-label="Tabs">
          <button 
            *ngFor="let tab of tabs"
            (click)="onTabClick(tab)"
            [class]="tab.active 
              ? 'border-blue-500 text-blue-600 py-4 px-1 border-b-2 font-medium text-sm' 
              : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 py-4 px-1 border-b-2 font-medium text-sm transition-colors'"
            [attr.aria-current]="tab.active ? 'page' : null"
          >
            <!-- {{ tab.label }} -->
          </button>
        </nav>
      </div>
    </div>
  
    <!-- Entête avec icône et titre -->
    <div class="flex items-start mb-6">
      <div class="flex-shrink-0 mr-4">
        <div class="p-3">
       <img src="assets/images/icones/folder.svg" alt="" srcset="">
        </div>
      </div>
      <div>
        <h1 class="text-2xl font-bold mb-1">Fiche détaillée du bâtiment</h1>
        <p class="text-gray-600">Visualisez, gérez et suivez l'intégralité des informations liées à ce bâtiment, de sa localisation jusqu'aux travaux en cours.</p>
      </div>
    </div>
  
  <!-- Onglets de navigation (fixés) -->

<div class="sticky top-0 z-50 bg-white flex flex-wrap mb-8 shadow-xs w-full p-4" >
  <div class="mr-2 mb-2" *ngFor="let tab of tabs">
    <button 
      [ngClass]="{'bg-gray-100 text-blue-900 font-bold': tab.active, 'text-gray-600': !tab.active}"
      class="px-6 py-3 rounded-t-lg"
      (click)="selectTab(tab)">
      {{ tab.name }}
    </button>
  </div>
</div>
    <!-- Informations du bâtiment (informations communes à tous les onglets) -->
    <div>
      
  
      <!-- Conteneur pour les composants dynamiques -->
       
        <ng-container #dynamicComponentContainer></ng-container>
       
     
       
  <!-- Content based on active tab -->
  @switch (activeTab) {
    @case ('maintenance') {
      <app-building-maintenance></app-building-maintenance>
    }
    @case ('documents') {
      <app-building-documents></app-building-documents>
    }
    @case ('location') {
<app-building-location></app-building-location>
    }
    @case ('Coproprietes') {
      <div>Contenu Coproprietes</div>
    }
    @case ('Informations Generales') {
      <app-building-informations></app-building-informations>
     
    }
    
    @default {
      <div>Sélectionnez un onglet</div>
    }
  }
    </div>
  </div>