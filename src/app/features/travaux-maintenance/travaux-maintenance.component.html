<div class="min-h-screen bg-gray-50 p-6">
  <!-- Page Header -->
  <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6">
    <div>
      <h1 class="text-2xl font-bold text-gray-900 mb-2">Travaux & Maintenance</h1>
      <p class="text-gray-600">Suivre les activit√©s techniques et co√ªts associ√©s</p>
    </div>
    
    <div class="flex flex-wrap items-center gap-3 mt-4 sm:mt-0">
      <select class="px-4 py-2 border border-gray-300 rounded-md bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
        <option>P√©riode</option>
      </select>
      <select class="px-4 py-2 border border-gray-300 rounded-md bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
        <option>R√©gion</option>
      </select>
      <button class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-2">
        <span>üìä</span>
        Exporter
      </button>
    </div>
  </div>

  <!-- Stats Cards -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
    <div class="bg-white p-4 rounded-lg shadow-sm border">
      <div class="flex items-center justify-between mb-2">
        <div class="p-2 bg-blue-100 rounded-lg">
          <span class="text-blue-600 text-xl">üèóÔ∏è</span>
        </div>
      </div>
      <div class="text-2xl font-bold text-gray-900 mb-1">{{ stats().plannedWorks }}</div>
      <div class="text-sm text-gray-600 mb-2">Travaux planifi√©s</div>
      <div class="flex items-center text-xs text-green-600">
        <span class="mr-1">‚ÜóÔ∏è</span>
        <span>+5 nouveaux cette ann√©e</span>
      </div>
    </div>

    <div class="bg-white p-4 rounded-lg shadow-sm border">
      <div class="flex items-center justify-between mb-2">
        <div class="p-2 bg-yellow-100 rounded-lg">
          <span class="text-yellow-600 text-xl">üìÖ</span>
        </div>
      </div>
      <div class="text-2xl font-bold text-gray-900 mb-1">{{ stats().inProgress }}</div>
      <div class="text-sm text-gray-600 mb-2">En cours</div>
      <div class="flex items-center text-xs text-yellow-600">
        <span class="mr-1">‚ö†Ô∏è</span>
        <span>02 En litige</span>
      </div>
    </div>

    <div class="bg-white p-4 rounded-lg shadow-sm border">
      <div class="flex items-center justify-between mb-2">
        <div class="p-2 bg-green-100 rounded-lg">
          <span class="text-green-600 text-xl">‚úÖ</span>
        </div>
      </div>
      <div class="text-2xl font-bold text-gray-900 mb-1">{{ stats().completed }}</div>
      <div class="text-sm text-gray-600 mb-2">Achev√©s</div>
      <div class="flex items-center text-xs text-yellow-600">
        <span class="mr-1">‚ö†Ô∏è</span>
        <span>02 En litige</span>
      </div>
    </div>

    <div class="bg-white p-4 rounded-lg shadow-sm border">
      <div class="flex items-center justify-between mb-2">
        <div class="p-2 bg-purple-100 rounded-lg">
          <span class="text-purple-600 text-xl">üí∞</span>
        </div>
      </div>
      <div class="text-2xl font-bold text-gray-900 mb-1">{{ stats().budgetConsumed }}%</div>
      <div class="text-sm text-gray-600 mb-2">Budget consomm√©</div>
      <div class="text-xs text-gray-500">
        <span>Sur {{ formatCurrency(stats().totalBudget) }}</span>
      </div>
    </div>
  </div>

  <!-- Charts Grid -->
  <!-- Premi√®re ligne: 2 cartes √©gales -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
    <!-- Travaux planifi√©s/en cours/achev√©s -->
    <div class="bg-white p-6 rounded-lg shadow-sm border">
      <div class="flex items-center justify-between mb-4">
        <h3 class="text-lg font-semibold text-gray-900">Travaux planifi√©s / en cours / achev√©s</h3>
      </div>
      <div class="flex items-center gap-4 mb-4 text-sm">
        <div class="flex items-center gap-2">
          <div class="w-3 h-3 bg-blue-500 rounded"></div>
          <span>Planifi√©s</span>
        </div>
        <div class="flex items-center gap-2">
          <div class="w-3 h-3 bg-yellow-500 rounded"></div>
          <span>En cours</span>
        </div>
        <div class="flex items-center gap-2">
          <div class="w-3 h-3 bg-green-500 rounded"></div>
          <span>Achev√©s</span>
        </div>
      </div>
      <div class="h-64">
        <canvas #monthlyWorksChart></canvas>
      </div>
    </div>

    <!-- R√©partition par type -->
    <div class="bg-white p-6 rounded-lg shadow-sm border">
      <h3 class="text-lg font-semibold text-gray-900 mb-4">R√©partition par type de travaux</h3>
      <div class="h-64 flex items-center justify-center">
        <canvas #workTypeChart></canvas>
      </div>
      <div class="grid grid-cols-2 gap-2 mt-4 text-sm">
        <div *ngFor="let item of workTypeDistribution()" class="flex items-center gap-2">
          <div class="w-3 h-3 rounded" [style.background-color]="item.color"></div>
          <span>{{ item.type }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Deuxi√®me ligne: 65% + 35% -->
  <div class="grid grid-cols-1 lg:grid-cols-12 gap-6 mb-6">
    <!-- D√©lai moyen d'ex√©cution - 65% -->
    <div class="lg:col-span-8 bg-white p-6 rounded-lg shadow-sm border">
      <div class="flex items-center justify-between mb-4">
        <h3 class="text-lg font-semibold text-gray-900">D√©lai moyen d'ex√©cution (jours)</h3>
        <select class="px-3 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
          <option>Jour</option>
        </select>
      </div>
      <div class="h-64">
        <canvas #executionDelayChart></canvas>
      </div>
    </div>

    <!-- Travaux en retard - 35% -->
    <div class="lg:col-span-4 bg-white p-6 rounded-lg shadow-sm border">
      <h3 class="text-lg font-semibold text-gray-900 mb-4">Travaux en retard (%)</h3>
      <div class="h-64 flex items-center justify-center">
        <canvas #delayedWorksChart></canvas>
      </div>
    </div>
  </div>

  <!-- Troisi√®me ligne: 2 cartes √©gales -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
    <!-- Incidents signal√©s -->
    <div class="bg-white p-6 rounded-lg shadow-sm border">
      <h3 class="text-lg font-semibold text-gray-900 mb-4">Incidents signal√©s par b√¢timent</h3>
      <div class="flex items-center gap-2 mb-4 text-sm">
        <div class="w-3 h-3 bg-orange-500 rounded"></div>
        <span>Incidents</span>
      </div>
      <div class="h-64">
        <canvas #incidentsChart></canvas>
      </div>
    </div>

    <!-- Interventions par fournisseur -->
    <div class="bg-white p-6 rounded-lg shadow-sm border">
      <h3 class="text-lg font-semibold text-gray-900 mb-4">Interventions par fournisseur</h3>
      <div class="flex items-center gap-4 mb-4 text-sm">
        <div class="flex items-center gap-2">
          <div class="w-3 h-3 bg-blue-500 rounded"></div>
          <span>√âlectricit√©</span>
        </div>
        <div class="flex items-center gap-2">
          <div class="w-3 h-3 bg-green-500 rounded"></div>
          <span>Plomberie</span>
        </div>
      </div>
      <div class="h-64">
        <canvas #supplierChart></canvas>
      </div>
    </div>
  </div>

  <!-- Derni√®re ligne: Co√ªt moyen par type - 50% de la largeur centr√© -->
  <div class="flex">
    <div class="w-full max-w-2xl bg-white p-6 rounded-lg shadow-sm border">
      <h3 class="text-lg font-semibold text-gray-900 mb-4">Co√ªt moyen par type de travaux</h3>
      <div class="flex items-center gap-2 mb-4 text-sm">
        <div class="w-3 h-3 bg-blue-500 rounded"></div>
        <span>Co√ªt moyen en (Fcfa)</span>
      </div>
      <div class="h-64">
        <canvas #costChart></canvas>
      </div>
    </div>
  </div>
</div>